---
title: "Introducci칩n al manejo de datos con R"
subtitle: "Programaci칩n y Conceptos Est치disticos"
author: "Daniel Jim칠nez M."
date: "`r format(Sys.time(), '%d -%m -%Y')`"
institute: "Universidad Nacional de Colombia"
output: 
  beamer_presentation:
    theme: "Madrid"
    colortheme: "beaver"
    #incremental: true
    slide_level: 2
    latex_engine: xelatex
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```





## R como calculadora 

En R las sumas se realizan de la siguiente manera
```{r,echo=TRUE}
100+200
```


##  R como calculadora 

Otra forma de hacer esta operaci칩n es a trav칠s de las asignaciones

```{r, echo=TRUE}
a <- 12
b <- 55
c <- a+b
print(c)
```

##  R como calculadora 

Las dem치s operaciones pueden realizar de la siguiente manera

```{r, echo=FALSE}
#Resta

300-199

# Multiplicaci칩n

12*12

# Divisi칩n

500/2

# Elevar un n칰mero a una potencia

2^2

```


## Operaciones L칩gicas

En est치 secci칩n se introducen los conceptos de l칩gica matem치tica.

Las operaciones l칩gicas son aquellas que intentan descubir valores de falso o verdadero como veremos en el siguiente ejemplo

```{r}
4>8
```


## Operaciones L칩gicas

Otra propiedad es la siguiente 
```{r}
3==9/3
```

## Operaciones L칩gicas

Estas operaciones se pueden combinar y son muy 칰tiles a la hora de trabajar con programaci칩n

```{r}
3==9/3 & 2<3
```

Otro ejemplo ser치 el siguiente :

```{r}
3==9/3 & 2<2
```


## Operaciones L칩gicas

Suponga el siguiente ejemplo: Los Views de su 칰ltima publicaci칩n son los siguientes

```{r}
Views<-c(20,30,12,60,13)
```

Ahora suponga que quiere saber cuales son mayores a 50

```{r}
Views>50
```

## Operaciones L칩gicas

Para ver los datos de mayores de 50 

```{r}
Views[Views>50]
```

## Operaciones L칩gicas

Ahora suponga que su publicaci칩n sale en dos tipos de revistas, Revista X y Revista Y,
Ahora evalue 쮺u치l es mejor? por d칤as

```{r}
Revista_X<-c(30,45,23)
Revista_Y<-c(20,55,33)
Revista_X<=Revista_Y
```

## Operaciones L칩gicas

El comando `if`  se usa cuando queremos que una operaci칩n se ejecute bajo una condici칩n

```{r}
x<-5
if(x>3){
  print("El valor es mayor a tres")
}
```

## Operaciones L칩gicas

`else` se usa para complementar alguna de las condiciones o ejecutar otra alternativa bajo el supuesto de que la condici칩n inicial no pueda ser ejecutada

```{r}
x<-50
y<-90

if(x>60){
  print("El n칰mero de x cumplio la condici칩n")
} else {
  print("EL n칰mero de y cumplio la condici칩n")
}

```

## Operaciones L칩gicas

Un `loop` es una serie de repeticiones de procesos hasta que se cumpla una condici칩n.

```{r}
i <- 1
while (i < 6) {
print(i)
i = i+1
}
```


## Operaciones L칩gicas

la funci칩n `break` es la orden donde se rompe un loop cuando llega a un paso pre-determinado

```{r}
x<-1:10
for(i in x){
  if(i==5){
    break
  }
  print(i)
}
```

## Operaciones L칩gicas

Para que la anterior sentencia continue y omita el valor de break es necesario trabajar con `next`

```{r}
x<-1:10
for(i in x){
  if(i==5){
    next
  }
  print(i)
}
```

## Crear FUnciones

Para crear funciones se trabaja con el comando `function`

```{r}
potencia<-function(x,y){
  z=x^y
  print(paste0("Este es el valor del n칰mero elevado ",z))
}
potencia(3,2)
```


## Funciones logar칤tmicas

Las funci칩n es logar칤tmicas hacen parte del mundo del an치lisis matem치tico 游뱁, en donde se estudia la propiedad de los n칰meros reales positivos dada una base con lo cual se logra obtener una mejor aproximaci칩n de la naturaleza de los datos.



## Funciones logar칤tmicas

El logar칤tmo se puede calcular de manera directa

```{r}
log(100)
```



O asignandole una base

```{r}
log(100,base = 4)
```



## Funciones exponenciales 

Las funciones exponenciales, como su nombre lo indica, es elevar un n칰mero a un exponente

```{r}
exp(3)
```

Esto lo usaremos en la parte de probabilidad.


## Funciones con objetos


Una forma de trabajar en R es con la creaci칩n de listas las cuales se pueden desarrollar de la siguiente manera :


```{r}
# Lista 
a<-c(1:10)
print(a)
```


```{r}
b<-seq(0,10,by = 2)
print(b)
```

## Funciones con objetos

Para ordenar en R usamos el comando `sort`

```{r}
c<-c(10,45,8,32)
sort(c)
```

## Extracci칩n de componentes


En programaci칩n y en especial en el an치lisis de datos, la extracci칩n de elementos es muy importante y es por ello que se explicar치 de dos maneras , la primera extraer un valor de un array y la segunda un segmento de un dataframe que en este caso ser치 `iris` que viene por defecto en R


```{r}
# Extraer elemento de un array

a<-c(1:10)
a[1] # Extrae el primer elemento

```


```{r}
a[3] # Extrae el tercer elemento
```

## Extracci칩n de componentes


```{r}
iris[1,]# Extrae la primer Columna
```

```{r}
iris[,1] # Extrae los valores de la primer fila 
```


## Extracci칩n de componentes


```{r}
iris[1,2] # Extrae el segundo valor de la primer columna 
```



## Funciones estad칤sticas

* Promedio: mean()
* Varianza: var()
* Desviaci칩n Estandar : sd()
* Percentiles: quantile()
* Covarianza: cov(,)
* Correlaci칩n de pearson: cor(,)
* Regresi칩n : lm()
* M치ximo: max ()
* M칤nimo: min()


## Funciones estad칤sticas con R

Ahora veremos algunas aplicaciones de estas funciones en R. Lo que usaremos para ello es un tipo de programaci칩n basado en `dplyr`, pero que tenga m치s paquetes para hacer el trabajo m치s ordenado, por lo tanto trabajaremos con la librer칤a `tidyverse`. 

Para empezar examinemos la naturaleza de los datos.


```{r}
library(tidyverse)
iris%>%
  glimpse() # Funci칩n para ver el formato en que estan los datos.
```



## Funciones estad칤sticas con R

Ahora exploremos un poco del comportamiento de una de las variables, para esto es necesario y recomendable hacerlo a trav칠s de un histograma.

```{r, eval=FALSE}
iris%>%
  ggplot(aes(Sepal.Length))+ # Funci칩n para gr치ficar
  geom_histogram() + # Geometr칤a
  labs(title = 'Distribuci칩n de los datos del Largo del S칠palo') # Agregar t칤tulos y ejes.
```

## Funciones estad칤sticas con R

```{r, echo=FALSE}
iris%>%
  ggplot(aes(Sepal.Length))+ # Funci칩n para gr치ficar
  geom_histogram() + # Geometr칤a
  labs(title = 'Distribuci칩n de los datos del Largo del S칠palo') # Agregar t칤tulos y ejes.
```



## Funciones estad칤sticas con R

Ahora si lo quiere trabajar por especies puede usar la funci칩n `facet_wrap(~variable a distribuir)`. Es recomendable asignarle colores a cada una de  las variables .


```{r eval=FALSE, include=TRUE}
iris%>%
  ggplot(aes(Sepal.Length, fill=Species))+ # Funci칩n para gr치ficar
  geom_histogram(bins = 15) + # Geometr칤a
  facet_wrap(~Species, scales='free') # Distribuci칩n del gr치fico
  labs(title = 'Distribuci칩n de los datos del Largo del S칠palo') # Agregar t칤tulos y ejes.
```

Con esto podremos saber a que tipo de distribuci칩n de probabilidad nos enfrentamos y entender m치s a fondo la naturaleza de los datos.

## Funciones estad칤sticas con R

```{r, echo=FALSE}
iris%>%
  ggplot(aes(Sepal.Length, fill=Species))+ # Funci칩n para gr치ficar
  geom_histogram(bins = 15) + # Geometr칤a
  facet_wrap(~Species, scales='free') # Distribuci칩n del gr치fico
  labs(title = 'Distribuci칩n de los datos del Largo del S칠palo') # Agregar t칤tulos y ejes.
```


## Funciones estad칤sticas con R


Ahora creemos un resumen  estad칤stico


```{r}
iris%>%
  group_by(Species)%>% # Se agrupa por especie
  summarize(Promedio=mean(Sepal.Length), # Se crea el promedio por especie
            Mediana=median(Sepal.Length), # Mediana por especie 
            p25=quantile(Sepal.Length)[2], # Quantil 25
            p75=quantile(Sepal.Length)[4]) # Quantil 75
```
Esta estad칤stica de resumen describe muy bien la naturaleza de los datos y con base a ella podemos hacer la siguiente inferencia gr치fica 


## Funciones estad칤sticas con R


```{r, eval=FALSE}
iris%>%
  group_by(Species)%>% # Se agrupa por especie
  summarize(Promedio=mean(Sepal.Length), # Se crea el promedio por especie
            Mediana=median(Sepal.Length), # Mediana por especie 
            p25=quantile(Sepal.Length)[2], # Quantil 25
            p75=quantile(Sepal.Length)[4])%>%
  ggplot(aes(Mediana,Species, color=Species))+
  geom_point(show.legend = FALSE,aes(size=Mediana))+
  geom_errorbar(aes(xmin=p25,xmax=p75),show.legend = FALSE,linetype = "dashed")+
  labs(title = 'Distribuci칩n por especies con amplitud cuant칤lica')
```

## Funciones estad칤sticas con R


```{r, echo=FALSE}
iris%>%
  group_by(Species)%>% # Se agrupa por especie
  summarize(Promedio=mean(Sepal.Length), # Se crea el promedio por especie
            Mediana=median(Sepal.Length), # Mediana por especie 
            p25=quantile(Sepal.Length)[2], # Quantil 25
            p75=quantile(Sepal.Length)[4])%>%
  ggplot(aes(Mediana,Species, color=Species))+
  geom_point(show.legend = FALSE,aes(size=Mediana))+
  geom_errorbar(aes(xmin=p25,xmax=p75),show.legend = FALSE,linetype = "dashed")+
  labs(title = 'Distribuci칩n por especies con amplitud cuant칤lica')
```



## Matrices

Ojo<- El mundo y todo lo que nos rodea es matricial, as칤 que esto ser치 fundamental m치s adelante.

Las matrices se crean con la funci칩n `matrix`

```{r}
# Ejemplo tomado de `help(matrix)`
mdat <- matrix(c(1,2,3, 11,12,13), nrow = 2, ncol = 3, byrow = TRUE,
               dimnames = list(c("row1", "row2"),
                               c("C.1", "C.2", "C.3")))
mdat
```


## Matrices

A las matrices se les puede asignar un n칰mero de operaciones respetando sus reglas[^1]


```{r}
a<-matrix(c(1:10),nrow = 2)
a+a # Suma
```

```{r}
a*2 # Multiplicaci칩n por si misma
```


[^1]: Para conocer las propiedades y las reglas de las matrices,por favor visite el siguiente link <https://books.google.es/books?hl=es&lr=&id=eI34KBt0tTwC&oi=fnd&pg=PR5&ots=MJIVJKr48y&sig=UkJ10vFbvmfeoMzrDNW06HIT3ac#v=onepage&q&f=false>

## Matrices


```{r}
# Multiplicaci칩n entre matrices
a<-matrix(c(1,2,3,4,5,6),2,3)
b<-matrix(c(7,8,9))
a%*%b
```

## Matrices

```{r}
a<-matrix(c(1,2,3,4),2,2)
#Promedio
mean(a)
```


## Matrices

```{r}
# Resolver una matriz
solve(a)
```

## Matrices

```{r}
# Hallar el determinante de una matriz
det(a)
```

```{r}
# trasponer una matriz

t(a)
```

## Matrices

Cuando veamos Machine Learning, la parte de valores propios sera muy importante, por ello solo se presentan en este momento.

```{r}
eigen(a)
```






