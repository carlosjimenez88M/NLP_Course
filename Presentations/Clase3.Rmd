---
title: "Introducci贸n al an谩lisis estad铆stico"
subtitle: "Teor铆a de probabilidad y Modelamiento estad铆stico"
author: "Daniel Jim茅nez M."
date: "`r format(Sys.time(), '%d -%m -%Y')`"
institute: "Universidad Nacional de Colombia"
output: 
  beamer_presentation:
    theme: "Madrid"
    colortheme: "beaver"
    #incremental: true
    slide_level: 2
    latex_engine: xelatex
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,message = FALSE,warning = FALSE)
```




## Distribuci贸n Binomial

Es una distribuci贸n de probabilidad  que estudia entre el n煤mero de repeticiones `n` de un evento hasta llegar a comprender el n煤mero de exitos obtenidos. Los valores de este tipo de distriuci贸n estan entre 0 y 1.

Ya que ustedes son Muchachos de poca fe, ac谩 les muestro la formula

$$
f(x)=\binom{n}{x}p^{x}(1-p)^{(n-x)}
$$




## Distribuci贸n Binomial


```{r, echo=FALSE, cache=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
theme_set(theme_classic())
```
Analicemos el siguiente problema: Suponga que esta haciendo un examen con 20 preguntas, cada pregunta tiene cuatro posibles respuestas y solo una de ellas es la correcta. Encuentre la probabilidad de que al menos ocho respuestas sean las correctas.

Tenga presente que : $1/4=0.25$ es la probabilidad que una respuesta sea la correcta.

```{r}
pbinom(8,size = 20,prob = 1/4)
```

La probabilidad de que responda al menos ocho preguntas de manera correcta es del 95%.

## Distribuci贸n Binomial

Las propiedades de esta distribuci贸n son las siguientes:

* $E(X)$ = $np$

* $Var(X)$=$np(1-p$

* $m_x(t)$=$(pe^{t}+1-p)^{n}$


## Distribuci贸n Binomial

El comportamiento de una variable binomial es el siguiente

```{r, echo=FALSE, fig.height=3}
n<-100000
ma.bimon<-rbinom(n,size = 10,prob = .7)
qplot(ma.bimon,geom = 'histogram')+
  labs(title = 'Forma de la distribuci贸n Binomial en el histograma',
       subtitle = 'Probabilidad E(X)=0.7')
```





## Distribuci贸n Binomial

El comportamiento de los datos pareados es el siguiente


```{r, echo=FALSE, fig.height=3}
n<-100000
ma.bimon<-rbinom(n,size = 10,prob = .7)
x1<-ma.bimon[-n]
x2<-ma.bimon[-1]
qplot(x1,x2)+
  labs(title = "Pairwise de la distribuci贸n Binomial",
       subtitle = "Probabilidad centrada en 0.7")
```

## Distribuci贸n Binomial


La funci贸n de Autocorrelaci贸n (Esto es super 煤til cuando quiere hacer forecasting) tiene el siguiente comportamiento


```{r, fig.height=3}
acf(ma.bimon)
```



## Distribuci贸n Poisson


Estudia el n煤mero de ocurrencias de alg煤n evento durante un intervalo de tiempo. Este tipo de aplicaciones es super 煤til cuando quiere calcular la probabilidad de ocurrencia de un evento donde mide la cantidad de individuos o eventos que ocurriran en un momento especifico, como por ejemplo: El n煤mero de personas que atender谩 un cajero al medio d铆a.

Matem谩ticamente se describe como :

$$
f(x)=\frac{\lambda^{x}e^{-\lambda}}{!x}
$$



## Distribuci贸n Poisson

Suponga que usted tiene **Tinder** y en promedio en un d铆a hace 12 Match. Calcule la probabilidad de que haga 15 Match en un d铆a.

Se calcular谩 la probabilidad como 14 贸 mas Matchs

```{r}
ppois(q = 14,lambda = 12,lower.tail = FALSE)
```



## Distribuci贸n Poisson

Las propiedades de la distribuci贸n de probabilidad es la siguiente

* $E(X)$=$\lambda$

* $Var(X)$=$\Lambda$

* $m_x(t)$=$exp{\lambda(e^{t}-1)}$



## Distribuci贸n Poisson

El comportamiento del histograma es el siguiente

```{r,fig.height=3}
n<-10000
n.pois<-rpois(n,lambda = 5)
qplot(n.pois,geom = "histogram")+
  labs(title = "Histograma de una distribuci贸n Poisson",
       subtitle = "Lambda centrado en 5")
```




## Distribuci贸n Poisson


La funci贸n de autocorrelaci贸n es la siguiente

```{r, fig.height=3}
acf(n.pois)
```

## Distribuci贸n Exponencial

Calcula la probabilidad de ocurrencia de dos eventos en intervalos de tiempo, como por ejemplo, el tiempo que transcurre hasta recibir una llamada.

Matem谩ticamente se ve de la siguiente manera:


$$
f(x)=\frac{1}{\theta}e^{{-x/\theta}}I_{(0,\infty)}
$$

## Distribuci贸n Exponencial

Suponga que el tiempo promedio en que un cajero de Juan Valdez vende un producto es de dos minutos. Calcule la probabilidad de que ejecute pagos en al menos 1 minuto.


```{r}
pexp(1,rate = 1/2)
```

## Distribuci贸n Exponencial

Las propiedades de esta distribuci贸n son:

* $E(X)$=$\theta$

* $Var(X)$=$\theta^2$

* $m_x(t)$=$\frac{1}{1-\theta t}$

**Dato curioso:** Notes茅 que la varianza te贸rica de la distribuci贸n es el cuadrado de la esperanza, por lo tanto a un conjunto de datos continuos mayores a cero, cuando la varianza tiende a parecerse a la esperanza de los valores, podremos decir que esta es una exponencial.


## Distribuci贸n Exponencial

El histograma de la exponencial tiene el siguiente comportamiento


```{r, eval=FALSE}
n<-10000
ma.exp<-rexp(n,rate = 1)
qplot(ma.exp,geom="histogram")+
  labs(title = "Histograma de la Exponencial",
       subtitle = "con rate centrado en 1")
```

## Distribuci贸n Exponencial


```{r, echo=FALSE}
n<-10000
ma.exp<-rexp(n,rate = 1)
qplot(ma.exp,geom="histogram")+
  labs(title = "Histograma de la Exponencial",
       subtitle = "con rate centrado en 1")
```

## Distribuci贸n Exponencial

Una particularidad importante es densidad emp铆rica que consiste en la forma de la distribuci贸n como se da a nivel matem谩tico versus su realidad.


```{r, eval=FALSE}
h<-data.frame(x=ma.exp)
h%>%
  ggplot(aes(x))+
  geom_density()+
  stat_function(fun = dexp,geom = "line",col="blue")+
  labs(title = "Distribuci贸n emp铆rica(azul) versus la real(negra)")

```

## Distribuci贸n Exponencial


```{r, echo=FALSE}
h<-data.frame(x=ma.exp)
h%>%
  ggplot(aes(x))+
  geom_density()+
  stat_function(fun = dexp,geom = "line",col="blue")+
  labs(title = "Distribuci贸n emp铆rica(azul) versus la real(negra)")
```


## Distribuci贸n Exponencial

```{r, fig.height=3}
acf(ma.exp)
```

## Prueba Kolmogorov - Smirnov

Imagines茅 que quiere comprobar si una distribuci贸n proviene de una familia estad铆stica especifica, par comprobarlo debe usar una prueba de hip贸tesis

* $H_0:$ Los datos provienen de una distribuci贸n espec铆fica
* $H_1:$ Los datos no provienen de dicha distribuci贸n

Ahora viene el mejor amigo de todos, el p-value: si este es menor que $\alpha$, cuando $\alpha=0.05$, entonces se rechaza la hip贸tesis nula.

## Prueba Kolmogorov - Smirnov

```{r}
ks.test(ma.exp,"pexp",rate=1)
```


Se acepta la distribuci贸n exponencial.


## Distribuci贸n Normal

Tambi茅n se le conoce como distribuci贸n gaussiana, es la m谩s utilizada en teor铆a estad铆stica gracias a su amplitud de aplicaciones en temas sociales, naturales y en psicolog铆a. El poder de esta distribuci贸n radica que asume eventos incontrolables como independientes en cada una de sus observaciones.

Matem谩ticamente se describe de la siguiente manera:

$$
f(x)=\frac{1}{\sigma \sqrt(2\pi)}e^{\frac{-(x-\mu)^2}{2\sigma^2}}
$$



## Distribuci贸n Normal


Suponga que el ranking para adquirir un prestamos de vivienda debe ser de 80 (promedio) puntos, la desviaci贸n del mismo esta en 30. 驴C煤al es la probabilidad de que personas que accedan al cr茅dito este por encima de 90?


```{r}
pnorm(90,mean = 80,sd = 30,lower.tail = FALSE)
```



## Distribuci贸n Normal


Las propiedades de la normal son :

* $E(X)$=$\mu$

* $Var(X)$=$\sigma^2$

* $m_x(t)$=$exp\{\mu t+\frac{1}{2}\sigma^2t^2\}$


## Distribuci贸n Normal

El histograma de la normal es el siguiente :

```{r, eval=FALSE}
ma.norm<-rnorm(10000,mean = 12,sd = 6)
qplot(ma.norm,geom = "histogram")+
  labs(title = "Forma de la distribuci贸n Normal",
       subtitle = "Con promedio en 12 y desviaci贸n en 6")
```

## Distribuci贸n Normal

```{r, echo=FALSE,fig.height=3}
ma.norm<-rnorm(10000,mean = 12,sd = 6)
qplot(ma.norm,geom = "histogram")+
  labs(title = "Forma de la distribuci贸n Normal",
       subtitle = "Con promedio en 12 y desviaci贸n en 6")
```


## Distribuci贸n Normal

La funci贸n de autocorrelaci贸n es la siguiente :


```{r, fig.height=3}
acf(ma.norm)
```

